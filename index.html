<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>LNMP by flarumone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">LNMP</h1>
      <h2 class="project-tagline">Flarum 一键 LNMP 环境包</h2>
      <a href="https://github.com/flarumone/lnmp" class="btn">View on GitHub</a>
      <a href="https://github.com/flarumone/lnmp/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/flarumone/lnmp/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="欢迎使用-flarumone-一键-lnmp-环境包" class="anchor" href="#%E6%AC%A2%E8%BF%8E%E4%BD%BF%E7%94%A8-flarumone-%E4%B8%80%E9%94%AE-lnmp-%E7%8E%AF%E5%A2%83%E5%8C%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>欢迎使用 FlarumOne 一键 LNMP 环境包</h1>

<h4>
<a id="welcome-to-flarumone-lnmp-a-key-environment-pack" class="anchor" href="#welcome-to-flarumone-lnmp-a-key-environment-pack" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to FlarumOne LNMP a key environment Pack</h4>

<p>PhpMyAdmin 的默认管理入口是：<code>http://IP/phpmyadmin</code><br>
FlarumOne 的首页入口是您绑定的域名。  </p>

<p>PhpMyAdmin default login is:<code>http://IP/phpmyadmin</code><br>
FlarumOne Home entrance that you bind the domain name.</p>

<h3>
<a id="安装菜单说明" class="anchor" href="#%E5%AE%89%E8%A3%85%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装菜单说明</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>注释</th>
<th>可选值</th>
<th>默认</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Please select your server in mainland China</code></td>
<td>选择服务器是否在中国大陆</td>
<td><code>y/n</code></td>
<td><code>n</code></td>
<td>默认值<code>n</code>讲直接引用<code>AWS S3 US</code>亚马逊S3美国镜像，如果选<code>y</code>将进入<strong>国内<code>CDN</code>节点选择</strong>子菜单</td>
</tr>
<tr>
<td><code>Please select a CDN node of SinaSAE/AliyunCDN</code></td>
<td>国内<code>CDN</code>节点选择</td>
<td><code>1/2</code></td>
<td><code>1</code></td>
<td>默认值<code>1</code>是新浪的SAE存储节点，<code>2</code>是阿里云的CDN节点</td>
</tr>
<tr>
<td><code>Please Select whether you want to install MySQL</code></td>
<td>是否安装<code>MySQL</code>数据库</td>
<td><code>y/n</code></td>
<td><code>y</code></td>
<td>默认安装<code>MySQL</code>并进入<strong><code>MySQL</code>版本选择</strong>子菜单，你也可选择<code>n</code>不安装</td>
</tr>
<tr>
<td><code>Please select the mysql version of 5.5.45/5.6.26</code></td>
<td>
<code>MySQL</code>版本选择</td>
<td><code>1/2</code></td>
<td><code>1</code></td>
<td>默认安装<code>MySQL 5.5.45</code>，你也可以选择<code>2</code>以安装<code>MySQL 5.6.26</code>
</td>
</tr>
<tr>
<td><code>Please Select whether you want to install NodeJS</code></td>
<td>是否安装<code>NodeJS</code>
</td>
<td><code>y/n</code></td>
<td><code>n</code></td>
<td>默认不安装，如果选择<code>y</code>讲进入<strong><code>NodeJS</code>版本选择</strong>子菜单</td>
</tr>
<tr>
<td><code>Please select the NodeJS version of 0.12.7/4.2.1</code></td>
<td>
<code>NodeJS</code>版本选择</td>
<td><code>1/2</code></td>
<td><code>1</code></td>
<td>默认安装<code>NodeJS 0.12.7</code>，你也可以选择<code>2</code>以安装<code>NodeJS 4.2.1</code>
</td>
</tr>
</tbody>
</table>

<h3>
<a id="参考命令" class="anchor" href="#%E5%8F%82%E8%80%83%E5%91%BD%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>参考命令</h3>

<p><strong>安装</strong></p>

<div class="highlight highlight-source-shell"><pre>wget http://res.szlt.net/master/lnmp.zip -P /tmp
<span class="pl-c1">cd</span> /usr/local/src
unzip /tmp/lnmp.zip
chmod -R 777 sh <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> sh
./install.sh <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">|</span> tee install.log</pre></div>

<p><strong>卸载</strong></p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> /usr/local/src
./uninstall.sh <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">|</span> tee uninstall.log</pre></div>

<p><strong>重新安装</strong></p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> /usr/local/src
rm -rf sh
rm /tmp/lnmp.zip
wget http://res.szlt.net/master/lnmp.zip -P /tmp
unzip /tmp/lnmp.zip
chmod -R 777 sh <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> sh
./install.sh <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">|</span> tee install.log</pre></div>

<h3>
<a id="常用管理命令" class="anchor" href="#%E5%B8%B8%E7%94%A8%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>常用管理命令</h3>

<p>重启服务</p>

<div class="highlight highlight-source-shell"><pre>/etc/init.d/php-fpm restart
/etc/init.d/nginx restart
/etc/init.d/mysqld restart</pre></div>

<h3>
<a id="目录结构" class="anchor" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>目录结构：</h3>

<pre><code>/data1
├── log                                          #各服务的日志全放这里
│   ├── mysql
│   ├── nginx
│   └── php
├── server                                       #各服务的编译文件全放这里
│   ├── mysql -&gt; /data1/server/mysql-5.6.26      #这是个软链
│   ├── mysql-5.6.26                             #这是实体文件夹
│   ├── nginx -&gt; /data1/server/nginx-2.1.1
│   ├── nginx-2.1.1
│   ├── nodejs -&gt; /data1/server/nodejs-4.1.2
│   ├── nodejs-4.1.2
│   ├── php -&gt; /data1/server/php-5.5.29
│   └── php-5.5.29
└── www                                          #各网站的文件全放这里
    ├── default
    └── flarumone
</code></pre>

<p>Nginx 配置文件路径：</p>

<pre><code>/data1/server/nginx/conf
├── nginx.conf              #默认加载的配置文件，下面这些配置文件均从这里被调用
├── rewrite                 #存放 rewrite 规则，即伪静态规则
│   ├── default.conf
│   └── flarum.conf
└── vhosts                  #存放虚拟主机的配置文件，新加网站的配置文件统一存放于此
    ├── default.conf
    └── flarumone.conf
</code></pre>

<p>PHP 配置文件路径：</p>

<pre><code>/data1/server/php/etc
├── pear.conf
├── php-fpm.conf
├── php-fpm.conf.default
└── php.ini
</code></pre>

<p>MySQL 配置文件路径：</p>

<pre><code>/etc/my.cnf
</code></pre>

<h3>
<a id="帮助" class="anchor" href="#%E5%B8%AE%E5%8A%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>帮助</h3>

<p>如遇问题，可将安装日志<code>/usr/local/src/sh/install.log</code>压缩成zip后发送到<code>support@flarumone.com</code>
也可以到 <a href="https://flarumone.com/t/help">https://flarumone.com/t/help</a> 发帖求助</p>

<h3>
<a id="案例分享" class="anchor" href="#%E6%A1%88%E4%BE%8B%E5%88%86%E4%BA%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>案例分享</h3>

<p>如果，您希望展示您的站点，也可把它发布到，我们的 <a href="https://flarumone.com/t/case">https://flarumone.com/t/case</a> 中</p>

<h3>
<a id="关于这个产品" class="anchor" href="#%E5%85%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E4%BA%A7%E5%93%81" aria-hidden="true"><span class="octicon octicon-link"></span></a>关于这个产品</h3>

<p>我们满怀对 Flarum 的热爱之情，对其运行环境进行深入探索，并持续对本环境包进行深度优化，旨在使其能够以更优雅的姿势，为 Flarum 提供稳健的运行环境<br>
从此，我们再也不用为无法正常安装 Flarum 或报错连天的环境问题而影响正常使用<br>
此外，为了满足国内外不同区域服务器的快速部署 Flarum 生产环境，我们还启用了三个不同区域的 CDN 服务，分别是位于美国的亚马逊 S3 存储，位于中国的新浪 SAE 和阿里云的 CDN<br>
悉心打造，致臻品质，只为您而来！  </p>

<p>谢谢大家的支持，么么哒</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/flarumone/lnmp">LNMP</a> is maintained by <a href="https://github.com/flarumone">flarumone</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
